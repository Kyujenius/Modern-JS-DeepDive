# 문자열과 메모리 관리

## 1. 문자열의 메모리 크기

- 문자열은 원시 값이므로 불변(immutable).
- ECMAScript 사양에서는 문자열(2바이트), 숫자(8바이트) 외에는 크기를 명시하지 않음 → 브라우저 구현에 따라 달라질 수 있음.
- 문자열은 0개 이상의 문자(character) 로 이루어진 집합.
- 문자 1개 = 2바이트. 따라서 문자열 길이에 따라 메모리 공간 크기가 결정됨.

## 2. 문자열의 특징

- 문자열은 원시 타입이므로 한 번 생성되면 변경할 수 없음.
- 새로운 문자열을 재할당하면, 기존 문자열을 수정하는 것이 아니라 새로운 메모리 공간에 문자열을 저장하고 변수는 그 주소를 참조.

var str = 'Hello';
str = 'world';
// 'Hello'와 'world' 모두 메모리에 존재, str은 새 주소를 참조

## 3. 문자열은 유사 배열 객체

- 문자열은 배열처럼 인덱스로 접근 가능하고, length 프로퍼티를 가짐.
- 하지만 원시 값이므로 수정은 불가.

```js
var str = "string";

console.log(str[0]); // 's'
console.log(str.length); // 6
console.log(str.toUpperCase()); // "STRING"

str[0] = "S";
console.log(str); // "string" (변경 불가)
```

- 읽기 전용 값이므로 에러는 발생하지 않지만, 실제 값은 변하지 않음.

# 값에 의한 전달 (Pass by Value)

## 1. 원리

- 원시 값을 변수에 할당하면 변수는 값 자체를 저장.
- 다른 변수에 할당할 경우 값이 복사되어 전달됨.

```js
var score = 80;
var copy = score;

console.log(score); // 80
console.log(copy); // 80

score = 100;
console.log(score); // 100
console.log(copy); // 80 (영향 없음)
```

## 2. 특징

- score와 copy는 모두 80이라는 값을 갖지만, 서로 다른 메모리 공간에 저장됨.
- 즉, 값에 의한 전달이 일어났기 때문에 한 변수를 바꿔도 다른 변수에는 영향이 없음.

```js
var score = 80;
var copy = score;

console.log(score === copy); // true (값 비교 시 같음)
```

1. 문자열은 원시 값 → 불변, 길이에 따라 메모리 크기 결정.
2. 문자열은 유사 배열 객체 → 인덱스 접근 가능, length와 메서드 제공.
3. 원시 값은 값에 의한 전달 → 새로운 메모리 공간에 복사되어 저장됨.
4. 따라서 한 변수를 수정해도 다른 변수에는 영향을 주지 않음.

## 변수와 값의 독립성
- 원시 값을 갖는 변수를 다른 변수에 할당하면, 값 자체가 복사되어 새로운 메모리 공간에 저장됨.
- 따라서 한쪽 변수를 변경해도 다른 변수에는 영향을 주지 않음.


## ECMAScript 사양의 모호성
- ECMAScript 사양은 “값이 어떻게 메모리에 저장·관리되는지” 구체적으로 명시하지 않음.
- 따라서 실제 엔진 구현(브라우저, Node.js 등)에 따라 내부 동작 방식은 다소 차이가 있을 수 있음.

## “값에 의한 전달”의 의미
- 사실은 값 자체를 전달한다기보다, 메모리 주소를 통해 접근되는 값이 복사되는 것.
- 즉, 변수가 직접 값을 들고 있는 게 아니라 값이 저장된 메모리 주소를 기억하고 있는 것.
- 하지만 원시 값의 경우, 새로운 메모리 공간에 복사본이 생성되므로 결국 두 변수는 독립적.

## 최종 결론
- 원시 값의 특성 (불변성) + 복사 시 새로운 메모리 공간 생성
→ 한 변수를 변경해도 다른 변수에 영향을 주지 않음.
- 따라서 원시 값은 항상 독립적인 값으로 동작.
