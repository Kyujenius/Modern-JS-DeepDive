# 데이터 타입과 메모리

## 메모리 공간의 크기

- ECMAScript 사양은 문자열과 숫자 타입 외의 데이터 타입 크기를 명시적으로 규정하지 않음
- 따라서 문자열과 숫자 타입을 제외한 나머지는 엔진 구현에 따라 다르게 동작할 수 있음
- 숫자 타입은 배정밀도 64비트 부동소수점 형식을 사용함 → 8바이트로 표현됨

## 값 참조 방식

- 변수는 값이 저장된 메모리 공간의 주소를 참조함
- 예: `score = 100` → score 변수는 100이 저장된 메모리 공간의 주소를 참조함
- 값이 숫자 타입이면 8바이트 단위로 저장되므로 참조 시에도 8바이트 단위로 읽어들임

## 심벌 테이블

- 자바스크립트 엔진은 식별자를 키로 하여 메모리 주소, 데이터 타입, 스코프 등을 관리하기 위해 심벌 테이블 사용함

## 데이터 타입에 의한 값의 해석

- 메모리에 저장된 값은 2진수 형태로 존재함
- 같은 2진수라도 데이터 타입에 따라 다르게 해석됨
  - 예: `0100 0001` → 숫자 타입으로 해석 시 65, 문자 타입으로 해석 시 'A'
- 따라서 값의 해석에는 반드시 데이터 타입 정보가 필요함

## 데이터 타입이 필요한 이유

1. 값을 저장할 때 확보해야 하는 메모리 공간의 크기를 결정하기 위해
2. 값을 참조할 때 한 번에 읽어들일 메모리 공간의 크기를 결정하기 위해
3. 메모리에 저장된 2진수를 어떻게 해석할지 결정하기 위해

# 동적 타이핑

## 정적 타입 언어

- 변수 선언 시 데이터 타입을 명시적으로 선언함
- 변수의 타입을 변경할 수 없음
- 컴파일 시점에 타입 체크 수행함 → 잘못된 타입이면 에러 발생 및 실행 차단됨
- 안정성과 일관성이 높음
- 대표 언어: C, C++, Java, Kotlin, Go, Haskell, Rust, Scala 등

// C 예시

```c
char c;   // 1바이트 정수 타입 (-128 ~ 127)
int num;  // 4바이트 정수 타입 (-2,147,483,648 ~ 2,147,483,647)
```

⸻

## 동적 타입 언어

- 변수 선언 시 타입을 선언하지 않음 (var, let, const 사용)
- 변수는 어떤 타입의 값이라도 자유롭게 할당 가능함
- 값이 할당되는 시점에 타입이 결정됨
- 이후 재할당에 따라 타입이 언제든 동적으로 변할 수 있음
- 대표 언어: JavaScript, Python, PHP, Ruby, Lisp, Perl 등

```js
var foo;
console.log(typeof foo); // undefined

foo = 3;
console.log(typeof foo); // number

foo = "Hello";
console.log(typeof foo); // string

foo = true;
console.log(typeof foo); // boolean

foo = null;
console.log(typeof foo); // object (설계적 결함)

foo = Symbol();
console.log(typeof foo); // symbol

foo = {};
console.log(typeof foo); // object

foo = [];
console.log(typeof foo); // object (배열도 객체)

foo = function () {};
console.log(typeof foo); // function
```

### typeof 연산자

- 변수에 할당된 값의 타입을 문자열로 반환함
- 변수 자체가 타입을 갖는 것이 아니라 할당된 값이 타입을 가짐
- 따라서 변수의 타입은 값에 따라 동적으로 변함

### 핵심 요약

- 정적 타입 언어 → 선언 시 타입 결정, 이후 변경 불가, 컴파일 타임 체크
- 동적 타입 언어 → 할당 시 타입 결정, 이후 언제든 변경 가능
- 자바스크립트는 동적 타이핑 언어로, 변수는 타입이 아니라 값에 묶여 있음

## 제일 중요한 부분

다시 말해, 자바스크립트의 변수는 선언이 아닌 할당에 의해 타입이 결정(타입 추론 type inference) 된다. 그리고 재할당에 의해 변수의 타입은 언제든지 동적으로 변할 수 있다. 이러한 특징을 동적 타이핑(dynamic typing)이라 하며, 자바스크립트를 정적 타입 언어와 구별하기 위해 동적 타입 dynamic weak type 언어라 한다.

## 동적 타이핑 특징

- 변수 선언 시 타입 지정하지 않음
- 값 할당 시점에 타입이 동적으로 결정됨
- 재할당 시 타입도 자유롭게 변함
- 유연성 높으나 신뢰성과 안정성은 떨어짐
- 잘못된 타입 예측 시 런타임 오류 발생 가능

## 변수 사용 시 주의사항

### 1. 변수는 꼭 필요한 경우에만 제한적으로 사용함

- 값 재할당에 따라 언제든 타입이 변할 수 있음
- 변수 개수가 많아질수록 오류 발생 확률 증가
- 불필요한 변수 남발은 코드 복잡성과 유지보수성 저하

### 2. 변수의 유효 범위(스코프)를 최소화함

- 스코프가 넓을수록 충돌 및 의도치 않은 값 변경 가능성 증가
- 부작용 최소화를 위해 좁은 범위에서 관리 필요
- `let`, `const`를 사용해 블록 단위 스코프를 지키는 것이 안전

### 3. 전역 변수 사용을 억제함

- 전역 변수는 코드 전체에 영향 → 오류 발생 시 원인 추적 어려움
- 프로그램 복잡성과 의존성 증가
- 지역 변수를 우선 사용하고 불가피할 때만 전역 변수 사용

---

## 추가적인 주의사항

- `const`를 적극적으로 활용해 값 변경 억제
- 변수 이름은 목적과 의미를 드러내도록 명확하게 네이밍
- 코드 가독성을 높여 협업과 유지보수 효율성 확보

---

## 핵심 요약

1. 변수는 꼭 필요한 경우에만 제한적으로 사용
2. 변수의 유효 범위를 좁게 유지
3. 전역 변수 사용을 최대한 억제
