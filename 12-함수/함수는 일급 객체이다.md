# 함수 표현식의 개념

- 자바스크립트의 함수는 객체 타입의 값 → 값처럼 변수에 할당 가능.
- 이런 성질을 가진 객체를 **일급 객체**라고 하며, **자바스크립트 함수는 일급 객체**이다.
- 따라서 **함수 리터럴로 생성한 함수 객체를 변수에 할당** 가능 → 이를 함수 표현식이라 부른다.

```js
// 함수 표현식
var add = function (x, y) {
  return x + y;
};

console.log(add(2, 5)); // 7
```

## 익명 함수와 기명 함수

- 함수 표현식의 함수 리터럴은 보통 함수 이름을 생략 → 익명 함수라고 함.
- 기명 함수도 가능하지만, 함수 이름은 함수 몸체 내부에서만 유효한 식별자 → 외부에서는 사용할 수 없음.

```js
// 기명 함수 표현식
var add = function foo(x, y) {
  return x + y;
};

console.log(add(2, 5)); // 7
console.log(foo(2, 5)); // ReferenceError: foo is not defined
```

## 함수 선언문 vs 함수 표현식

### 함수 선언문

- 함수 이름이 필수.
- 선언 시점에 함수 객체가 생성되고, 동일한 이름의 식별자에 암묵적으로 할당됨.
- “표현식이 아닌 문”으로, 독립적으로 사용 가능.

### 함수 표현식

- 표현식으로 평가되어 값처럼 사용됨.
- 변수에 할당해야 사용할 수 있음.
- 익명 함수가 일반적이며, 필요에 따라 기명 함수도 가능함.

# 함수 생성 시점과 함수 호이스팅 정리

## 함수 선언문과 함수 표현식의 차이

- 함수 선언문은 코드 실행 전(런타임 이전)에 엔진이 먼저 함수 객체를 생성하고, 해당 이름의 식별자에 암묵적으로 할당한다.
  → 따라서 선언문으로 정의된 함수는 선언문 이전에도 호출 가능하다. (함수 호이스팅 발생)
- 함수 표현식은 변수에 함수를 할당하는 방식이다.
- 변수는 undefined로 초기화된 상태에서 런타임에 평가될 때 함수 객체가 할당된다.
- 따라서 표현식으로 정의된 함수는 선언 이후에만 호출 가능하다. (변수 호이스팅만 발생)

## 예시

```js
// 함수 선언문
console.log(add(2, 5)); // 7 (정상 실행)
function add(x, y) {
  return x + y;
}

// 함수 표현식
console.log(sub(2, 5)); // ❌ TypeError: sub is not a function
var sub = function (x, y) {
  return x - y;
};
```

- add는 함수 호이스팅 덕분에 선언 이전에도 실행됨.
- sub는 런타임 시점에서야 함수 객체가 할당되므로, 이전 호출 시 undefined 상태 → 실행 불가.

## 핵심 요약

- 함수 선언문: 함수 호이스팅 발생 → 코드 어디서든 선언 전 호출 가능.
- 함수 표현식: 변수 호이스팅만 발생 → undefined 초기화 후 런타임에 함수 할당 → 선언 이후만 호출 가능.
- 안정성과 예측 가능성을 위해 함수 표현식 사용 권장 (더글라스 크락포드도 같은 의견).

## 결론

- 선언문은 “미리 끌어올려진다(hoisting)” → 선언 전에도 호출 가능.
- 표현식은 “런타임 평가 후 할당된다” → 선언 이후에만 호출 가능.
